# 1.【入門編】カフェサイトのコーディング練習

[無料コーディング研究所](https://webdesigner-go.com/coding-practice/)

## 構成
`index.html`
```pug
header.header
  h1.logo > a > img
div.main-visual
  picture
    source
    img
nav.global-nav
  ul                       // flexbox
    li > a
main.content
  section.consept
    div.container          // flexbox
      div.img > img
      div.desc
        div.subtitle
        div.title
        div.text > p
  section.blog
    div.container
      h2.heading > span
      div.list            // flexbox:block(<768px)
        div.item
          a
            div.img > img
            div.title
            div.date
      a.btn
footer.footer
  div.logo > a > img
  div.copyright
```

## html

### リセットCSS
```html
<link rel="stylesheet" href="css/destyle.css">
```
- ブラウザのCSSのデフォルト設定をリセット、表示の差異を調整する
- [Destyle.css](https://nicolas-cusan.github.io/destyle.css/)
- 他にもress.css, Normalize.css, sanitize.css 等

### viewport
```html
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
```
- レスポンシブのコーディングに必要


### `<picture>`タグ
```html
<picture>
  <source media="(min-width: 768px)" srcset="images/pc_main-visual.jpg">
  <img src="images/sp_main-visual.jpg" alt="複数の青いカップのコーヒー">
</picture>
```
- [`<picture>`: 画像要素(MDN)](https://developer.mozilla.org/ja/docs/Web/HTML/Element/picture)
- 複数の子要素の`<source>`タグの中から適切なものを選択して表示する
- 適切なものがない場合は`<img>`タグを表示する
- この場合、`min-width:768px` 即ち最低幅768pxをクリアしている場合（＝幅768px以上）は`srcset`で指定した画像が表示される
- 上記条件に合致しない場合（＝幅768px未満）は`<img>`タグで指定した画像が表示される

### `.container`クラス
```html
<section class="concept">
  <div class="container">
    ...
  </div>
</section>
```
- `.container`クラスはコンテンツ幅を制御するために入れられている
- 名称は`container`でなくてもいいが、`container`がよく使われる

### `<img>`タグのwidth, height
```html
<img src="images/concept.jpg" alt="青いカップのコーヒー" width="750" height="759">
```
- `<img>`タグには`width`と`height`を忘れずに設定すること
- 指定がないと画像の表示の際に前後にがたつく（レイアウトシフト）


### `&copy;`
- 特殊文字を表示させるための記法
- &copy; <- これが表示される（コピーライト）
- (参考):[HTMLの記号・特殊文字の文字コード表（文字実体参照、数値文字参照）](https://gray-code.com/html_css/list-of-symbols-and-special-characters/)


## CSS

### 文字コードの指定
```css
@charset "UTF-8";
```
- 文字化けを防ぐ
- 現在 (2022/05)はなくてもほぼ問題はないが一応記述しておく

### font family
```css
body {
  font-family: Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
  font-style: 16px;
  color: #333;
}
```
- `font-family`についてはこれ以外のパターンもたくさんある
- [2022年に最適なfont-familyの書き方](https://ics.media/entry/200317/)
- [【2021年版】font-familyの正しい指定方法・タイプ別おすすめフォント設定例](https://willcloud.jp/knowhow/font-family/) など


### トランジション
```css
a {
  transition: 0.3s;
}
a:hover {
  opacity: 0.8;
}
```
- `a`にトランジションの秒数（0.3s)を設定する
- `a:hover`のときに`a`で指定した秒数アニメーションしながら移行する

### img
```css
img {
  max-width: 100%;
  height: auto;
  vertical-align: bottom;
}
```
- `max-width` 表示されるimageの横幅の最大幅
  - ウィンドウ＜横幅の場合、ウィンドウの100%に縮小されて表示される
  - ウィンドウ＞横幅の場合は実際のサイズで表示される
- `height:auto;` 縦幅は画像に合わせる（＝縦横の比率を保つ）
- `vertical-align:bottom` 画像の下に隙間を作らないようにする

### flexboxの左右中央寄せ
```css
.global-nav ul {
  display: flex;
  justify-content: center;
}

.global-nav ul li {
  margin-right: 80px;
}
.global-nav ul li:last-child {
  margin-right: 0;
}
```
- `display:flex` で直下の子要素がflexboxに入る（デフォルトは横並び）
- `justify-content:center` 左右方向の中央揃え
- 子要素の間は`margin-right:80px`でマージンを空ける
- 右端`li:last-child`のみ`margin-light:0px` でリセットすることにより中央に並ぶ

### 文字の装飾
```css
.global-nav ul li {
  font-size: 18px;
  line-height: 1;
  letter-spacing: 0.1em;
  margin-right: 80px;
}
```
- `line-height` 行間の指定　デフォルトは1 数が大きくなるほど行間が空く
- `letter-spacing` 字間の指定　デフォルトは0
  - `0.1em`はフォントの**高さ**`18px`の0.1 = 1.8px

### CSSの追加上書き
```css
.container {
  max-width: 1170px;
  margin: 0 auto;
  padding: 0 30px;
}

.concept > .container {
  display: flex;
  align-items: center;
}
```
- `.concept > .container`は`.consept`直下の`.container`のみを対象
- マージンなどの指定はそのままに`display:flex`などを適用する

### flexboxの上下中央寄せ
```css
.concept > .container {
  display: flex;
  align-items: center;
}
```
- `align-items: center;` 上下方向の中央揃え

### flexboxの並び順・並び数の制御
```css
.blog .list {
  display: flex;
  flex-flow: wrap;
}

.blog .list .item {
  width: calc((100% - 60px) / 3);
  margin-right: 30px;
  margin-bottom: 30px;
}
.blog .list .item:nth-child(3n) {
  margin-right: 0;
}
```
- `flex-flow: wrap;` flexboxに折り返しを許可する
- `width: calc((100% - 60px) / 3);` 横幅を計算する
  - 横幅100%からマージン2つ分（30px*2=60px)を引いて3で割った数値=子要素一つ分の幅
- `.item:nth-child(3n)` 3の倍数の子要素について`margin-right: 0;`でマージンを0にする

#### `<h>`と`<span>`の入れ子で二段表示
```html
<h2 class="heading">blog<span class="subtitle">ブログ</span></h2>
```
```css
.blog .heading {
  text-align: center;
  margin-bottom: 30px;
}

.blog .subtitle {
  display: block;
  margin-top: 8px;
}
```
- `<h>`の`text-align: center;`でテキストを左右中央寄せにする
- `<span>`を`display: block;`にすることによりテキストを`<h>`のテキストの下に置く
- `<h>`と`<span>`の間は`<span>`の`margin-top`で空ける(8px)
- `<h>`と次のブロックの間は`<h>`の`margin-bottom`で空ける(30px)
  - `<span>`は`<h>`の入れ子なので見た目では`<span>`の下端から30pxのマージンがつく

### `::after`によるアイコンの位置指定方法
```html
<a href="#" class="btn">ブログ一覧</a>
```
```css
.btn {
  display: block;
  position: relative;
  width: 220px;
  text-align: center; /* テキストをボックスの左右中央に揃える */
  margin: 0 auto; /* ボックスをウィンドウの左右中央に揃える */
  border: 1px solid #24a8bf;
}

.btn::after {
  display: block;
  content: "";
  position: absolute;
  top: 50%;
  right: 1em;
  width: 5px;
  height: 9px;
  transform: translateY(-50%);
  background-image: url("./images/icon_arrow-right.png");
  background-repeat: no-repeat;
  background-size: 5px 9px;
}
```
- `.btn`クラスで文字を中央揃え
- `::after`疑似要素で文字を中央揃えにしたまま右端にアイコンを追加する
- `position:absolute` `relative`である親要素の左上を原点にした位置で表示
  - この場合は`.btn`クラスの要素の左上が原点になる
- `top: 50%;` で`.btn`要素の左上から50%の位置に`::after`疑似要素の左上を移動
- `transform: translateY(-50%);`で上方向に`::after`疑似要素の高さの50%を移動
  - 二つの合わせ技で上下中央の位置にセット
  - [CSSのtransformプロパティで要素を変形させよう](https://zero-plus.io/media/html-css/transform/)

### トランジションの一括指定
```css
a:hover {
  opacity: 0.8;
}
.btn {
  transition: opacity 0.3s;
}
```
- [CSS トランジションの使用](https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions)
- `transition: プロパティ名 時間` でそのプロパティの秒数アニメーションする


## CSS (モバイル向け)

### メディアクエリ
```css
@media screen and (max-width: 767px) {
  /* この中に幅768px未満の場合のCSSを書く  */
}
```
- `<picture>`で`min-width:768px`でPC用画像とSP用画像を切り替え
  - この切り替えの部分を**ブレークポイント**という
- `min-width`（最低幅）768px 以上の場合にPC向けのレイアウトになるので、モバイル向けは`max-width`（最大幅）767px 以下の場合で切り替える
- cssは後から読んだものが適用されるので同じ属性の場合はPC用レイアウト→スマホ用レイアウトに上書きされる


### flexboxを切り替える
```css
.concept > .container {
  display: flex;
  align-items: center;
}
@media screen and (max-width: 767px) {
  .concept > .container {
    flex-direction: column;
  }
}
```
- flexboxは通常は横並びだが、`flex-direction:column`で縦並びに切り替える

```css
.blog .list {
  display: flex;
  flex-flow: wrap;
}
@media screen and (max-width: 767px) {
  .blog .list {
    display: block;
  }
}
```
- flexboxからblockに切り替える
